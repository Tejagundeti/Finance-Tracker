<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<!--script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    
    </head>
    <body class="bg-light">
        <center>
            <form class="was-validated" novalidate>
                <div class="form-floating mb-3 mt-3 w-50">
                     
                    <input type="number" class="form-control input-lg" id="amt" placeholder="Enter amt" name="amt" required>
                    <label for="amt">Amount(in Rs.)</label>
                    <div id="amount" class="invalid-feedback">
                        Please provide Amount.
                      </div>
                  </div>
                  <br/>
              
                  <div class="form-floating mb-3 mt-3 w-50">
                    <select class="form-select" id="sel1" name="sellist">
                      <option>Rent</option>
                      <option>Shopping</option>
                      <option>Travel</option>
                      <option>Entertainment</option>
                      <option>Insurance</option>
                      <option>Medical</option>
                      <option>Education</option>
                      <option>Others</option>
                    </select>
                    <label for="sel1" class="form-label">Purpose:</label>
                  </div>
                  <br/>
                  <div class="form-floating mb-3 mt-3 w-50">
                    <input type="date" class="form-control" id="d" placeholder="Enter Date" name="d" min="2024-11-07" required>
                    <label for="d">Date</label>
                    <div id="da" class="invalid-feedback">
                        Select Date
                      </div>
                  </div>
                  <pre><button type="button" class="btn btn-primary btn-lg" onclick="valid()">Submit</button>                                               <button type="reset" class="btn btn-danger btn-lg" onclick="clo()">Cancel</button></pre>
                  </form>
                   <br/>
              <button type="button" class="btn btn-primary btn" onclick="click1()">Back</button>
             
                  <div class="modal" id="myModal">
                    <div class="modal-dialog modal-dialog-centered">
                      <div class="modal-content">
        
          <!-- Modal body -->
          <div class="modal-body">
            <br/>
            <h2>Added Successfully</h2>
            <br/>
          </div>
        
          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-bs-dismiss="modal" onclick="cl()">Close</button>
          </div>
                      </div>
                    </div>
                  </div>
               
        </center>
        <script>
        function click1(){
          	 var mail = localStorage.getItem("mail"); 
          	 var jspcall="reminder.jsp?mail="+mail;
            	window.location.href=jspcall;
              }
          function clo(){
           const diva=document.querySelector("#amount");
           diva.style.display="block";
           const divd=document.querySelector("#da");
           divd.style.display="block";
         }
         function cl(){
        	 var amt=document.getElementById("amt").value;
             var fin="Goals";
             var purpose=document.getElementById("sel1").value;
             var d=document.getElementById("d").value;
             let text = d.toString();
             var email = localStorage.getItem("mail"); 
             var str=text.substring(5,7);
             var str1=text.substring(8,10);
             if(str=="01")
                 text+=" Jan";
             else if(str=="02")
                 text+=" Feb";
             else if(str=="03")
                 text+=" Mar";
             else if(str=="04")
                 text+=" Apr";
             else if(str=="05")
                 text+=" May";
             else if(str=="06")
                 text+=" Jun";
             else if(str=="07")
                 text+=" Jul";
             else if(str=="08")
                 text+=" Aug";
             else if(str=="09")
                 text+=" Sep";
             else if(str=="10")
                 text+=" Oct";
             else if(str=="11")
                 text+=" Nov";
             else if(str=="12")
                 text+=" Dec";
             text+=str1;
        	 var jspcall="goals.jsp?amt="+amt+"&fin="+fin+"&text="+text+"&email="+email+"&purpose="+purpose;
          	window.location.href=jspcall;
       $("#myModal").modal("hide");
      }
       function valid(){
         var amt=document.getElementById("amt").value;
         const diva=document.querySelector("#amount");
         var d=document.getElementById("d").value;
         const divd=document.querySelector("#da");
         var c=0,i=0,c1=0,dat=0;
         for(i=0;i<amt.length;i++){
         if(amt.charAt(i)==="e" )
         c1=1;
         }
         if(amt.length==0)
         c1=1;
         amt=parseInt(amt);
        if(d.length==0){
        dat=1;
        divd.style.display="block";
        }
        else{
          dat=0;
          divd.style.display="none";
        }
         if(amt<=0 || c1==1)
       {
         c=1;
         diva.style.display="block";
       }
       else{
         c=0;
         diva.style.display="none";
       }
       if(c==0 && c1==0 && dat==0)
       $("#myModal").modal({backdrop:false});
       }
     </script>
    </body>
</html>